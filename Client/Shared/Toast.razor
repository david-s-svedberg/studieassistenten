@* Toast notification component for user feedback *@

<div class="toast show @GetToastClass() mb-2" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
        <strong class="me-auto">
            @if (Type == ToastType.Success)
            {
                <i class="bi bi-check-circle-fill text-success me-2"></i>
            }
            else if (Type == ToastType.Error)
            {
                <i class="bi bi-exclamation-triangle-fill text-danger me-2"></i>
            }
            else if (Type == ToastType.Warning)
            {
                <i class="bi bi-exclamation-circle-fill text-warning me-2"></i>
            }
            else
            {
                <i class="bi bi-info-circle-fill text-primary me-2"></i>
            }
            @Title
        </strong>
        <small class="text-muted">just now</small>
        <button type="button" class="btn-close" @onclick="HandleClose" aria-label="Close"></button>
    </div>
    <div class="toast-body">
        @Message
    </div>
</div>

@code {
    [Parameter] public string Title { get; set; } = "Notification";
    [Parameter] public string Message { get; set; } = "";
    [Parameter] public ToastType Type { get; set; } = ToastType.Info;
    [Parameter] public int DurationMs { get; set; } = 5000;
    [Parameter] public EventCallback OnClose { get; set; }

    private void HandleClose()
    {
        OnClose.InvokeAsync();
    }

    private string GetToastClass()
    {
        return Type switch
        {
            ToastType.Success => "border-success",
            ToastType.Error => "border-danger",
            ToastType.Warning => "border-warning",
            _ => "border-info"
        };
    }

    public enum ToastType
    {
        Info,
        Success,
        Warning,
        Error
    }
}
